<?xml version="1.0" encoding="utf-16"?>
<rss xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0">
  <channel>
    <title>Ankur Sheel</title>
    <link>https://www.ankursheel.com/</link>
    <description>I go down rabbit holes and blog about them</description>
    <copyright>2022</copyright>
<pubDate>pubDate</pubDate>
<lastBuildDate>lastBuildDate</lastBuildDate>
    <item>
      <title>How to restore lost commits using git reflog</title>
      <link>https://www.ankursheel.com/blog/restore-lost-commits-git-reflog</link>
      <description>A way to restore lost commits after a hard reset or a bad force push</description>
      <enclosure url="https://www.ankursheel.com/assets/images/posts/restore-lost-commits-git-reflog/reflog-example.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/restore-lost-commits-git-reflog</guid>
      <pubDate>Thu, 28 Jul 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;h2 id="problem"&gt;Problem&lt;/h2&gt;
&lt;p&gt;If you are like me, you have probably sometimes committed a change in git but did a hard reset. Or you force pushed after a rebase and lost a commit that you needed. Let's see how you can restore that commit without rework.&lt;/p&gt;
&lt;p&gt;Have no fear; your work is still here. Let's see how you restore lost commits so that you don't have to do that work again.&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;You can use &lt;code&gt;git reflog&lt;/code&gt; to restore lost commits. &lt;code&gt;git reflog&lt;/code&gt; is a logging mechanism that keeps track of all changes made in a repository.&lt;/p&gt;
&lt;p&gt;Below is an example of the output of git reflog&lt;/p&gt;
&lt;p&gt;&lt;img src="https://www.ankursheel.com/assets/images/posts/restore-lost-commits-git-reflog/reflog-example.png" alt="Reflog Example"&gt;&lt;/p&gt;
&lt;p n=""&gt;In the image above, you can see that each commit has a unique hash-id. You can either use the SHA or HEAD@&lt;/p&gt;
&lt;p&gt;Now, depending on what you want, there are several options.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git reset --hard &amp;lt;SHA&amp;gt;&lt;/code&gt;: restores the project's history to that commit.&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;git checkout &amp;lt;SHA&amp;gt; -- &amp;lt;filename&amp;gt;&lt;/code&gt;: recreates one or more files in your working directory without altering the history.&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;git cherry-pick &amp;lt;SHA&amp;gt;&lt;/code&gt;: append the commit to the current working head&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://git-scm.com/docs/git-reflog"&gt;git reflog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://git-scm.com/docs/git-cherry-pick"&gt;git cherry-pick&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>How to make Git forget about a committed file added to .gitignore</title>
      <link>https://www.ankursheel.com/blog/make-git-forget-committed-file-added-gitignore</link>
      <description>A way to remove a file committed in git that you now want git to forget about</description>
      <guid>https://www.ankursheel.com/blog/make-git-forget-committed-file-added-gitignore</guid>
      <pubDate>Wed, 06 Jul 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id="problem"&gt;Problem&lt;/h2&gt;
&lt;p&gt;You committed a file to git and then changed your mind and want git to forget about it. So, you added the file to &lt;code&gt;.gitignore&lt;/code&gt;. But the file still keeps showing up as part of your changes.&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;This happens because &lt;code&gt;.gitignore&lt;/code&gt; prevents files from being added but does not actively remove the ones already tracked.&lt;/p&gt;
&lt;p&gt;To stop tracking a file (but not delete it), you need to remove it from the index. This can be achieved with this command.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash hljs"&gt;git rm -r --cached &amp;lt;filename&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;git rm&lt;/em&gt;&lt;/strong&gt;: the command that lets us remove tracked changes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;-r&lt;/em&gt;&lt;/strong&gt;:  Removes the file recursively.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;--cached&lt;/em&gt;&lt;/strong&gt;: Removes only from the index.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;&amp;lt;filename&amp;gt;&lt;/em&gt;&lt;/strong&gt;: the file name you wish to stop tracking.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can now make a new commit and push it to your remote.&lt;/p&gt;
&lt;p&gt;Note that this will not remove the physical file from your local machine but will remove the files from other devices on the next git pull, so be careful with this command.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://git-scm.com/docs/git-rm"&gt;git-rm&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/body&gt;&lt;/html&gt;</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>How to fix the Language version error for Unity projects in Rider</title>
      <link>https://www.ankursheel.com/blog/fix-language-version-error-unity-rider</link>
      <description>How to fix the language version compiler error on building a project in rider created with Unity.</description>
      <guid>https://www.ankursheel.com/blog/fix-language-version-error-unity-rider</guid>
      <pubDate>Wed, 29 Jun 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;h2 id="problem"&gt;Problem&lt;/h2&gt;
&lt;p&gt;On building a project created with Unity 2021.3 in Rider, you get a language version error which looks similar to&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-lsl hljs"&gt;Invalid option '&lt;span class="hljs-number"&gt;9.0&lt;/span&gt;' for /langversion; must be ISO&lt;span class="hljs-number"&gt;-1&lt;/span&gt;, ISO&lt;span class="hljs-number"&gt;-2&lt;/span&gt;, &lt;span class="hljs-number"&gt;3&lt;/span&gt;, &lt;span class="hljs-number"&gt;4&lt;/span&gt;, &lt;span class="hljs-number"&gt;5&lt;/span&gt; or Default
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, you don't see any errors when building inside the unity editor.&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;This is because the API Compatability level in Unity is set to &lt;strong&gt;&lt;em&gt;.NET Standard 2.1&lt;/em&gt;&lt;/strong&gt;. This, in turn, sets the LangVersion property in the csproj to &lt;strong&gt;&lt;em&gt;9.0&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;But, Rider puts the MSBuild version to .NET Framework 4.&lt;/p&gt;
&lt;p&gt;The solution is to change the MSBuild version (in Rider) from Auto Detected to the embedded JetBrains path.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://www.ankursheel.com/assets/images/posts/fix-language-version-error-unity-rider/rider-settings.png" alt="Rider settings for MSbuild version"&gt;&lt;/p&gt;
&lt;p&gt;Remember to save it to the team-shared layer.&lt;/p&gt;
&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;We can eliminate the language error by updating the project's MSBuild version Rider uses.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>How to host a compressed Unity WebGL game on Netlify</title>
      <link>https://www.ankursheel.com/blog/host-compressed-unity-webgl-game-on-netlify</link>
      <description>In this article, I will be showing how to serve a unity game compressed with Brotli compression to Netlify</description>
      <guid>https://www.ankursheel.com/blog/host-compressed-unity-webgl-game-on-netlify</guid>
      <pubDate>Wed, 22 Jun 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;hr&gt;
&lt;p&gt;When you deploy a WebGL build for a Unity game, you can define the compression format to Brotli(or gzip).&lt;/p&gt;
&lt;p&gt;If you deploy this compressed unity game to Netlify and try to run it, you will see an error similar to&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Unable to parse XYZ.br! This can happen if build compression was enabled but web server hosting the content was misconfigured to not serve the file with HTTP Response Header &amp;quot;Content-Encoding: br&amp;quot; present. Check browser Console and Devtools Network tab to debug.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="solution-1"&gt;Solution 1&lt;/h2&gt;
&lt;p&gt;One option is to enable the &lt;code&gt;Decompression fallback&lt;/code&gt; option which embeds a Javascript decompressor into your build.&lt;/p&gt;
&lt;p&gt;You can find this in the &lt;em&gt;Project Settings&lt;/em&gt; -&amp;gt; &lt;em&gt;Player&lt;/em&gt; -&amp;gt; &lt;em&gt;Publishing Settings (for WebGL)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Although a perfectly valid option, it results in a larger loader size and is less efficient (according to the docs).&lt;/p&gt;
&lt;p&gt;So, let's look at a better solution.&lt;/p&gt;
&lt;h2 id="solution-2"&gt;Solution 2&lt;/h2&gt;
&lt;p&gt;To ensure that the browser can run the game, you need to tell the browser to decompress the files with the &lt;strong&gt;.br&lt;/strong&gt; extension using the Brotli algorithm.&lt;/p&gt;
&lt;p&gt;If you look at the files generated by Unity in the &lt;strong&gt;Build&lt;/strong&gt; folder, you will find the following files.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;XYZ.data.br&lt;/li&gt;
&lt;li&gt;XYZ.framework.js.br&lt;/li&gt;
&lt;li&gt;XYZ.loader.js&lt;/li&gt;
&lt;li&gt;XYZ.wasm.br&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You need to set the &lt;strong&gt;Content-Encoding&lt;/strong&gt; header for each file extension to &lt;strong&gt;br&lt;/strong&gt; so that the browser knows how to decompress the files.&lt;/p&gt;
&lt;p&gt;You can do this by creating a &lt;strong&gt;netlify.toml&lt;/strong&gt; file at the root if you don't have one already and adding the following snippet to it.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-toml hljs"&gt;[[headers]]
  for = &amp;quot;/Build/*.data.br&amp;quot;
  [headers.values]
    Content-Encoding = &amp;quot;br&amp;quot;
    Content-Type = &amp;quot;application/octet-stream&amp;quot;

[[headers]]
  for = &amp;quot;/Build/*.wasm.br&amp;quot;
  [headers.values]
    Content-Encoding = &amp;quot;br&amp;quot;
    Content-Type = &amp;quot;application/wasm&amp;quot;

[[headers]]
  for = &amp;quot;/Build/*.js&amp;quot;
  [headers.values]
    Content-Encoding = &amp;quot;js&amp;quot;
    Content-Type = &amp;quot;application/javascript&amp;quot;

[[headers]]
  for = &amp;quot;/Build/*.js.br&amp;quot;
  [headers.values]
    Content-Encoding = &amp;quot;br&amp;quot;
    Content-Type = &amp;quot;application/javascript&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;for&lt;/strong&gt;: The path where the headers will be added.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;values&lt;/strong&gt;: A map of values to add to the response headersa
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Content-Encoding&lt;/strong&gt;: The encoding that has been applied to the message paylaod.1&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Content-Type&lt;/strong&gt;: Indicates the original type of the resource.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This will set the correct content encoding for all the generated files.&lt;/p&gt;
&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;By setting the appropriate headers in the &lt;strong&gt;netlify.toml&lt;/strong&gt; file, we can serve a compressed Unity game on Netlify.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;If you want to use &lt;strong&gt;gzip&lt;/strong&gt; instead, you can follow the same steps by changing &lt;strong&gt;br&lt;/strong&gt; to &lt;strong&gt;gz&lt;/strong&gt; in the netlify.toml file.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.unity3d.com/Manual/webgl-deploying.html"&gt;Unity Webgl Compressed builds&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.netlify.com/routing/headers/#syntax-for-the-netlify-configuration-file"&gt;Netlify headers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding"&gt;Content-Encoding&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type"&gt;Content-Type&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/body&gt;&lt;/html&gt;</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>How to Serialize enums as strings in .Net Core</title>
      <link>https://www.ankursheel.com/blog/serializing-enums-strings-net-core</link>
      <description>If you try to serialize an enum to Json using System.Text.Json in .Net Core, it converts it into an integer by default. This is not very readable. How can we have a more readable enum value in the JSON output?</description>
      <guid>https://www.ankursheel.com/blog/serializing-enums-strings-net-core</guid>
      <pubDate>Thu, 16 Jun 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;If you try to serialize an enum to Json using System.Text.Json in .Net Core, it converts it into an integer by default.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-keyword"&gt;public&lt;/span&gt; &lt;span class="hljs-keyword"&gt;enum&lt;/span&gt; Seasons
{
    Unknown,
    Spring,
    Winter,
    Autumn,
    Summer
}

&lt;span class="hljs-keyword"&gt;var&lt;/span&gt; seasons = Enum.GetValues&amp;lt;Seasons&amp;gt;().ToList();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When you serialize the list of seasons using the serialize method, i.e. &lt;code&gt;JsonSerializer.Serialize(seasons)&lt;/code&gt;, it gives an output of &lt;code&gt;[0, 1, 2, 3, 4]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;As you can see, this is not very readable and almost meaningless unless you look at the code.&lt;/p&gt;
&lt;p&gt;To overcome this, you can specify a built-in converter to do the conversion to strings and pass it into a &lt;code&gt;JsonSerializerOptions&lt;/code&gt; object.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-keyword"&gt;var&lt;/span&gt; SerializerOptions = &lt;span class="hljs-keyword"&gt;new&lt;/span&gt; JsonSerializerOptions
    {
        PropertyNameCaseInsensitive = &lt;span class="hljs-literal"&gt;true&lt;/span&gt;,
        Converters = { &lt;span class="hljs-keyword"&gt;new&lt;/span&gt; JsonStringEnumConverter() }
    };
    
JsonSerializer.Serialize(seasons, SerializerOptions);
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will give an output of &lt;code&gt;[&amp;quot;Unknown&amp;quot;, &amp;quot;Spring&amp;quot;, &amp;quot;Winter&amp;quot;, &amp;quot;Autumn&amp;quot;, &amp;quot;Summer&amp;quot;]&lt;/code&gt; which is much more readable.&lt;/p&gt;
&lt;p&gt;You can use the same converter for deserializing the enum.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-keyword"&gt;var&lt;/span&gt; seasons = JsonSerializer.Deserialize&amp;lt;T&amp;gt;(json, SerializerOptions);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This gives an output of &lt;code&gt;[Seasons.Unknown, Seasons.Spring, Seasons.Winter, Seasons.Autumn, Seasons.Summer]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Using the built-in &lt;code&gt;JsonStringEnumConverter&lt;/code&gt;, we can get a more readable output in our JSON.&lt;/p&gt;
&lt;/body&gt;&lt;/html&gt;</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>How to set all bits of an enum flag in C#</title>
      <link>https://www.ankursheel.com/blog/set-all-bits-enum-flag-c</link>
      <description>Sometimes, we want to set all the bits on a flag. The easiest way to do this is by adding another value to the enum. But there is a more elegant way using LinQ which does not require updating the flag.</description>
      <guid>https://www.ankursheel.com/blog/set-all-bits-enum-flag-c</guid>
      <pubDate>Thu, 09 Jun 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;In C#, you can use the [Flags] attribute to create an enum type as bit flags, allowing you to use Bitwise operations.&lt;/p&gt;
&lt;p&gt;Let's take an example of Seasons&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;
[Flags]
&lt;span class="hljs-keyword"&gt;public&lt;/span&gt; &lt;span class="hljs-keyword"&gt;enum&lt;/span&gt; Seasons
{
    None = &lt;span class="hljs-number"&gt;0&lt;/span&gt;,
    Spring = &lt;span class="hljs-number"&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class="hljs-number"&gt;0&lt;/span&gt;,
    Winter = &lt;span class="hljs-number"&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class="hljs-number"&gt;1&lt;/span&gt;,
    Autumn = &lt;span class="hljs-number"&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class="hljs-number"&gt;2&lt;/span&gt;,
    Summer = &lt;span class="hljs-number"&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class="hljs-number"&gt;3&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Sometimes, we want to set all the bits on a flag. The easiest way to do this is by adding another value to the enum by manually combining all the bits yourself.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;[Flags]
&lt;span class="hljs-keyword"&gt;public&lt;/span&gt; &lt;span class="hljs-keyword"&gt;enum&lt;/span&gt; Seasons
{
    ... &lt;span class="hljs-comment"&gt;// omitted for brevity&lt;/span&gt;
    All = Spring | Winter | Autumn | Summer
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But, this has a small problem. Every time we add a new value to the enum, we must update the &lt;code&gt;All&lt;/code&gt; value.&lt;/p&gt;
&lt;p&gt;Here is a simple trick to get a variable with all the bits set.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt; &lt;span class="hljs-keyword"&gt;var&lt;/span&gt; AllSeasons = (Seasons)Enum.GetValues&amp;lt;Seasons&amp;gt;().Cast&amp;lt;&lt;span class="hljs-keyword"&gt;int&lt;/span&gt;&amp;gt;().Sum();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let's see what's happening in the above snippet.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enum.GetValues&lt;mydays&gt;()&lt;/mydays&gt;&lt;/strong&gt; returns an array of the enums values.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cast&lt;int&gt;&lt;/int&gt;&lt;/strong&gt; cast the elements of the array to its int values. &lt;em&gt;Remember that the underlying type of an enum is int.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sum&lt;/strong&gt; computes the sum of all the values in the collection.&lt;/p&gt;
&lt;p&gt;We then cast it back to &lt;em&gt;Seasons&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Using Linq magic, we can get an enum value with all the flags set without adding an &lt;em&gt;All&lt;/em&gt; value to the enum.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/api/system.enum.getvalues?view=net-6.0"&gt;Enum.GetValues&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.cast?view=net-6.0"&gt;Cast&amp;lt;&amp;gt; method&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.sum?view=net-6.0"&gt;Sum method&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/body&gt;&lt;/html&gt;</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>How to replace a word in a string in C#</title>
      <link>https://www.ankursheel.com/blog/replace-word-string-csharp</link>
      <description>There is no way to replace just whole words using string.Replace. Let's see how we can replace whole words in string using Regex</description>
      <guid>https://www.ankursheel.com/blog/replace-word-string-csharp</guid>
      <pubDate>Wed, 30 Mar 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id="problem"&gt;Problem&lt;/h2&gt;
&lt;p&gt;Sometimes you want to replace whole words from a string in C#. But &lt;code&gt;string.Replace&lt;/code&gt; in C# replaces partial matches.&lt;/p&gt;
&lt;p&gt;For example,&lt;/p&gt;
&lt;p&gt;Let's assume that the string is &amp;quot;Test testing test tester&amp;quot;, and we want to replace the word &lt;em&gt;test&lt;/em&gt; with &lt;em&gt;text&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;If we use &lt;code&gt;string.Replace&lt;/code&gt;, our resultant string would be &amp;quot;text texting text texter&amp;quot;, but what we want is &amp;quot;text testing
text tester&amp;quot;&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;You can use &lt;code&gt;Regex.Replace&lt;/code&gt; to replace a whole word.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;private&lt;/span&gt; &lt;span class="hljs-keyword"&gt;static&lt;/span&gt; &lt;span class="hljs-keyword"&gt;string&lt;/span&gt; &lt;span class="hljs-title"&gt;ReplaceWholeWord&lt;/span&gt;(&lt;span class="hljs-params"&gt;&lt;span class="hljs-keyword"&gt;string&lt;/span&gt; input, &lt;span class="hljs-keyword"&gt;string&lt;/span&gt; wordToReplace, &lt;span class="hljs-keyword"&gt;string&lt;/span&gt; replacementWord&lt;/span&gt;)
&lt;/span&gt;{
    &lt;span class="hljs-keyword"&gt;var&lt;/span&gt; pattern = $&amp;quot;\\b{wordToReplace}\\b&amp;quot;;
    &lt;span class="hljs-keyword"&gt;return&lt;/span&gt; Regex.Replace(input, pattern, replacementWord, RegexOptions.IgnoreCase);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are a few things to note here.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The pattern's &lt;code&gt;\b&lt;/code&gt; metacharacter matches on word boundaries.&lt;/li&gt;
&lt;li&gt;As the name suggests, passing in &lt;code&gt;RegexOptions.IgnoreCase&lt;/code&gt; for the options makes it case-insensitive.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now we can use it like&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-keyword"&gt;var&lt;/span&gt; replacedString = ReplaceWholeWord(&amp;quot;Test testing test tester&amp;quot;, &amp;quot;test&amp;quot;, &amp;quot;text&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex.replace?view=net-6.0#:%7E:text=The%20Regex.,a%20regular%20expression%20replacement%20pattern."&gt;Regex.Replace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference"&gt;Regular Expression Language - Quick Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="thanks"&gt;Thanks&lt;/h3&gt;
&lt;p&gt;Thanks Avery Stephen for pointing out a typo in the original post&lt;/p&gt;
&lt;/body&gt;&lt;/html&gt;</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>How to programmatically remove a service worker</title>
      <link>https://www.ankursheel.com/blog/programmatically-remove-service-worker</link>
      <description>Sometimes you just want to remove a service worker either because something is wrong with it or you don't need it anymore. Lets see how we can do it programmatically</description>
      <guid>https://www.ankursheel.com/blog/programmatically-remove-service-worker</guid>
      <pubDate>Wed, 23 Mar 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id="problem"&gt;Problem&lt;/h2&gt;
&lt;p&gt;Sometimes you just want to remove a service worker either because something is wrong with it or you don't need it anymore.&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;To remove a service worker entirely, you can replace the code with code to unregister the service worker.
Replace the following snippets in the service worker file.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-javascript hljs"&gt;self.addEventListener(&lt;span class="hljs-string"&gt;'install'&lt;/span&gt;, &lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;function&lt;/span&gt; (&lt;span class="hljs-params"&gt;e&lt;/span&gt;) &lt;/span&gt;{
    self.skipWaiting();
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The install event is triggered when the browser sees the service worker for the first time.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;skipWaiting()&lt;/code&gt; method tells the service worker to skip the waiting state and move directly to activate (once it has been installed). Otherwise, the service worker will become active once the currently active service worker is released and becomes redundant.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-javascript hljs"&gt;
self.addEventListener(&lt;span class="hljs-string"&gt;'activate'&lt;/span&gt;, &lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;function&lt;/span&gt; (&lt;span class="hljs-params"&gt;e&lt;/span&gt;) &lt;/span&gt;{
    &lt;span class="hljs-built_in"&gt;console&lt;/span&gt;.log(&lt;span class="hljs-string"&gt;`Unregistering service worker`&lt;/span&gt;)
    self.registration.unregister()
        .then(&lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;function&lt;/span&gt; (&lt;span class="hljs-params"&gt;&lt;/span&gt;) &lt;/span&gt;{
            &lt;span class="hljs-keyword"&gt;return&lt;/span&gt; self.clients.matchAll();
        })
        .then(&lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;function&lt;/span&gt; (&lt;span class="hljs-params"&gt;clients&lt;/span&gt;) &lt;/span&gt;{
            clients.forEach(client =&amp;gt; {
                &lt;span class="hljs-built_in"&gt;console&lt;/span&gt;.log(&lt;span class="hljs-string"&gt;`Navigating &lt;span class="hljs-subst"&gt;${client.url}&lt;/span&gt;`&lt;/span&gt;)
                client.navigate(client.url)
            })
        });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The activate event is triggered when the old version of the service worker is gone.
The &lt;code&gt;self.registration.unregister()&lt;/code&gt; function unregisters the service worker and returns a promise. The promise resolves to &lt;code&gt;false&lt;/code&gt; if no registration was found; otherwise, it resolves to &lt;code&gt;true&lt;/code&gt;. If the service worker was not found, it was already unregistered.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;self.clients.matchAll()&lt;/code&gt; method returns a Promise for a list of the service worker clients controlled by the service worker.&lt;/p&gt;
&lt;p&gt;Next, the code loops through all the active clients, and it forces the browser to reload the page, which should remove the service worker.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/NekR/self-destroying-sw"&gt;Self-destroying ServiceWorker&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/body&gt;&lt;/html&gt;</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>Interviewing your interviewers with a must-have and a deal-breaker list</title>
      <link>https://www.ankursheel.com/blog/interview-interviewers-must-have-deal-breaker-list</link>
      <description>Joining a company and finding out that it isn't a good match never feels great. We can increase the chances of finding the right company with a little bit of introspection and preparation</description>
      <guid>https://www.ankursheel.com/blog/interview-interviewers-must-have-deal-breaker-list</guid>
      <pubDate>Wed, 16 Feb 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;At the end of most interviews will come the question, &amp;quot;Do you have any questions for us?&amp;quot; Common advice over the interwebs is that you should always have questions to ask because it will make you look more prepared and leave a good impression. But, there is a much more important reason to interview your interviewer.&lt;/p&gt;
&lt;p&gt;I have worked for a few companies in my career. Some of them worked out great, while for others, after a few months of joining, I realized it wasn't a great fit.&lt;/p&gt;
&lt;p&gt;Joining a company and finding out that it isn't a good match never feels great. It can be hard to know if the company we are thinking of joining is a good fit (before actually joining them). Still, we can increase the chances by doing a little bit of introspection and preparation.&lt;/p&gt;
&lt;h2 id="how-to-apply-the-lists-in-an-interview"&gt;How to apply the lists in an interview&lt;/h2&gt;
&lt;p&gt;Now, it's unlikely that we will be able to walk into a job interview and run through our list of must-haves/deal-breakers like a checklist. After all, we can't just ask our prospective boss if they are a micromanager. But we can look for signals that can help us evaluate them.&lt;/p&gt;
&lt;p&gt;At this point, you might be wondering, how do I do that?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Make your own list of must-haves and deal-breakers.&lt;/li&gt;
&lt;li&gt;For each item in the list, write a question.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;It's essential to keep the questions conversational and not accusatory. We should also structure the question so that the interviewer has to provide examples.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Keep the list of questions handy so that you can ask questions throughout the interview as they relate to the topic being discussed.&lt;/p&gt;
&lt;h2 id="my-must-have-list"&gt;My Must Have List&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;A high degree of autonomy and flexibility in how I manage my time and workload.&lt;/li&gt;
&lt;li&gt;Open communication not only among team-mates but also with management and Human Resources.&lt;/li&gt;
&lt;li&gt;Ability to choose my workplace tools, including both hardware and software.&lt;/li&gt;
&lt;li&gt;A clear and defined path toward career advancement (both in skills and compensation)&lt;/li&gt;
&lt;li&gt;Ability to work on non-work-related tasks for a few hours a week.&lt;/li&gt;
&lt;li&gt;Opportunity to spend time sharing my ideas on either mine or a company blog.&lt;/li&gt;
&lt;li&gt;Learning from mistakes / Blameless&lt;/li&gt;
&lt;li&gt;Inclusive Work environment&lt;/li&gt;
&lt;li&gt;Equality when it comes to stock options, reviews etc&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="my-deal-breaker-list"&gt;My Deal Breaker List&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Expected overtime.&lt;/li&gt;
&lt;li&gt;T-shirts/ Shorts and Sandals are not allowed.&lt;/li&gt;
&lt;li&gt;Mandatory in-office days/ No remote working.&lt;/li&gt;
&lt;li&gt;If completely remote, there is no office space or compensation to pay for a shared office space.&lt;/li&gt;
&lt;li&gt;Mandatory after-hours on-call.&lt;/li&gt;
&lt;li&gt;Micro-management.&lt;/li&gt;
&lt;li&gt;Lots of meetings.&lt;/li&gt;
&lt;li&gt;Following Dogmatic Scrum and story pointing.&lt;/li&gt;
&lt;li&gt;Long-lived branches.&lt;/li&gt;
&lt;li&gt;No automated tests / over-reliance on manual QA.&lt;/li&gt;
&lt;li&gt;Hiring mainly seniors / Not many intermediates or juniors.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Note that these items are all about me, my values and what I want. They have very little to do with any particular job or workplace.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id="turning-the-list-into-questions"&gt;Turning the list into questions&lt;/h2&gt;
&lt;p&gt;Now that I have my must-have and deal-breaker lists, it's time to turn them into questions. There might be overlapping questions, so it's best to combine them.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Can you walk me through your development process, from a ticket or task to code on production?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Autonomy and Flexibility, Dogmatic Scrum, Lots of meetings&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How do you decide what products people work on? How much say do engineers have over what is built and how it's built?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Autonomy and Flexibility&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Do you encourage public discussions, especially for controversial topics and disagreements?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Open Communication&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How are disagreements solved - both technical disputes and other kinds? What happens when personalities clash?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Open Communication&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How often does the leadership team discuss turnover percentages and other numbers&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Open Communication&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Can programmers use their preferred OS, code editor, and other tools?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Workplace tools&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Do you have a career ladder and skill matrix with parallel IC and management tracks?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Career Advancement&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Do you have a shared compensation matrix?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Career Advancement&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: What percentage of people have been promoted internally to leadership positions?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Career Advancement&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: What are further opportunities for this role? What is the next career level?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Career Advancement&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How do you give back to the community? Open Source/ Blog Articles etc.? Is it encouraged?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;:  Ability to work on non-work-related tasks, Share Ideas&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Do you have regular retros? Process/Team and after features?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;:  Learning from mistakes&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: What does the company do to ensure an inclusive work environment for transgender people, people with disabilities, single parents, and other people on the margins? Does HR get input for policies or people programs? How is diversity represented within the team or company?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;:  Inclusiveness&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How responsive are people to emails/Slack over the weekends during the day and after 6pm?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Overtime&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: What is the on-call schedule?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Mandatory on call&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How often are there emergencies or times when people have to work extra hours?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Mandatory on call, Expected overtime&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Are people compensated for being on call? How do you measure the impact on developers?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Mandatory on call&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How often are engineers expected to provide status updates on a project?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Autonomy and Flexibility, Micro-management&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Who sets deadlines, and what happens when people fail to meet them?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Autonomy and Flexibility, Micro-management&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How often do you have meetings? Are there any scheduled/standing meetings?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Lots of status meetings&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How does this team plan projects and create estimates?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Autonomy and Flexibility, Dogmatic Scrum&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How often is the product released?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Long-lived branches&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: What is the median age for which an issue and a subsequent PR will be open?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Long-lived branches&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: What does your QA process look like?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: No automated tests&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: What is the ratio of junior/intermediate/senior engineers?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Hiring mainly seniors&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How do you ensure that junior engineers are supported?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Hiring mainly seniors, Learning from mistakes&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Does everyone get equity allocation or a part of profit-sharing?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Equality&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Can you give me an example of a mistake you've made here and how it was handled?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Open Communication, Learning from mistakes&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Has there been a time when the engineering team was on the wrong course?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Open Communication, Learning from mistakes&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: Does the company collect workplace feedback? Have you ever acted on it?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Learning from mistakes&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q&lt;/strong&gt;: How do performance reviews work? Do engineers review their peers and managers? What do you do in case of a bad review of a manager?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relates to&lt;/em&gt;: Equality, Career Advancement&lt;/p&gt;
&lt;h2 id="what-is-an-appropriate-number-of-questions-to-ask"&gt;What is an appropriate number of questions to ask?&lt;/h2&gt;
&lt;p&gt;This is quite an extensive list. Chances are we won't be able to ask all of them in a single interview. Most interviews keep only the last couple of minutes for questions. However, when interviewing for jobs, there are often multiple rounds. I would suggest choosing questions to ask at the different stages. After all, some questions are better answered by a hiring manager, while others are better answered by a person working in a similar role.&lt;/p&gt;
&lt;p&gt;One thing I have not tried so far but intend to try next time I am interviewing is conducting a &lt;a href="https://blog.pragmaticengineer.com/reverse-interviewing/" target="_blank"&gt;reverse interview&lt;/a&gt; after I have negotiated the offer to get any unanswered questions answered.&lt;/p&gt;
&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;A list of questions based on our must-haves and deal-breakers can give us the confidence to know that we are making the right decision. We can down positions or step away from the interview process where there isn't a great fit. You owe it to yourself to find a place aligned with your values.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Thanks to the &lt;a href="http://bloggingfordevs.com/"&gt;Blogging for Devs community&lt;/a&gt; for providing feedback on this post.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>Weekly Roundup 53</title>
      <link>https://www.ankursheel.com/blog/weekly-roundup-53</link>
      <description>This weeks roundup contains articles from Jimmy Bogard, Mr Money Mustache, Josh Comeau, Andrey Azimov and Growth.Design</description>
      <enclosure url="https://www.ankursheel.com/assets/images/weekly-roundup-cover.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/weekly-roundup-53</guid>
      <pubDate>Sun, 16 Jan 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;Every week I come across some great articles. Here are some of the posts I feel you will enjoy reading as much as I did.&lt;/p&gt;
&lt;h2 id="service-locator-is-not-an-anti-pattern"&gt;&lt;a href="https://jimmybogard.com/service-locator-is-not-an-anti-pattern/"&gt;Service Locator is not an Anti-Pattern&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Jimmy Bogard&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The common thinking is that the Service Locator pattern is an anti-pattern because it hides class dependencies and results in runtime errors. Jimmy Bogard explains the situations where service location is required or even preferable.&lt;/p&gt;
&lt;h2 id="inflation-should-we-be-worried"&gt;&lt;a href="https://www.mrmoneymustache.com/2022/01/11/inflation-should-we-be-worried/"&gt;Inflation – Should We Be Worried?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Mr Money Mustache&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This very in-depth article that gets into inflation explains why inflation does not mean we are getting poorer and might even be good for the economy.&lt;/p&gt;
&lt;h2 id="make-beautiful-gradients"&gt;&lt;a href="https://www.joshwcomeau.com/css/make-beautiful-gradients/"&gt;Make Beautiful Gradients&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Josh Comeau&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In this blog post, we learn why the dreaded grey zone happens when building a linear gradient and what we can do to avoid it by using colour theory.&lt;/p&gt;
&lt;h2 id="how-to-accept-payments-online-if-you-cant-use-stripe"&gt;&lt;a href="https://andreyazimov.medium.com/how-to-accept-payments-online-if-you-cant-use-stripe-a16e6df98b1d"&gt;How to Accept Payments Online If You Can't Use Stripe?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Andrey Azimov&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Stripe is slowly becoming the preferred payment provider for apps. But what do you do if you live in one of the countries where Stripe is not supported. Andrey compares the 3 alternatives: Gumroad, Paddle and Paypal.&lt;/p&gt;
&lt;h2 id="case-study-user-onboarding-blinkist"&gt;&lt;a href="https://growth.design/case-studies/blinkist-user-onboarding"&gt;Case study: User onboarding (Blinkist)&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Growth.Design&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;A case study of onboarding in Blinkist shows why onboarding can be tricky and how psychology can help.&lt;/p&gt;
&lt;p&gt;Thanks for reading. Until next time.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>Weekly Roundup 52</title>
      <link>https://www.ankursheel.com/blog/weekly-roundup-52</link>
      <description>This weeks roundup contains articles from Selena Soo, Oliver Brotchie, Annie Liew, Rick Strahl and Cameron McHenry</description>
      <enclosure url="https://www.ankursheel.com/assets/images/weekly-roundup-cover.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/weekly-roundup-52</guid>
      <pubDate>Sun, 09 Jan 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;Every week I come across some great articles. Here are some of the posts I feel you will enjoy reading as much as I did.&lt;/p&gt;
&lt;h2 id="i-was-in-an-emotionally-abusive-relationship-even-as-a-smart-and-successful-woman"&gt;&lt;a href="https://selenasoo.medium.com/i-was-in-an-emotionally-abusive-relationship-even-as-a-smart-and-successful-woman-8804ffe58cc9"&gt;I was in an emotionally abusive relationship, even as a smart and successful woman&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Selena Soo&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;A compelling story of a woman recounting her emotional abuse in a former relationship.&lt;/p&gt;
&lt;h2 id="css-based-fingerprinting"&gt;&lt;a href="https://csstracking.dev/"&gt;CSS-Based Fingerprinting&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Oliver Brotchie&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Fingerprinting is a term that refers to building up enough metadata about a user so that we can essentially figure out who they are. Although it is more common with Javascript, did you know that we can fingerprint(to an extent) with CSS alone? A live demo and example repository also show how you can achieve this.&lt;/p&gt;
&lt;h2 id="why-i-turned-down-a-six-figure-salary-in-big-tech-to-stay-at-a-five-person-startup"&gt;&lt;a href="https://www.freecodecamp.org/news/why-i-turned-down-a-six-figure-salary-in-big-tech-to-stay-at-a-five-person-startup/"&gt;Why I Turned Down a Six-Figure Salary in Big Tech to Stay at a Five-Person Startup&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Annie Liew&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;It's easy to be swayed by a high salary and prestige when comparing offers. But, our values and what we are interested in doing is more important than any opportunity that might be good for us career-wise. An interesting story on what factors were involved in declining an offer from a highly regarded tech company to stay at a small startup.&lt;/p&gt;
&lt;h2 id="integrating-long-path-names-in-windows-applications"&gt;&lt;a href="https://weblog.west-wind.com/posts/2022/Jan/03/Integrating-Long-Path-Names-in-Windows-NET-Applications"&gt;Integrating Long Path Names in Windows Applications&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Rick Strahl&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Even though a limit of 260 characters for a path is not tiny, long path names are a problem on Windows. This article shows how we can enable long paths in Windows.&lt;/p&gt;
&lt;h2 id="how-serverless-saved-money-on-my-heating-bill"&gt;&lt;a href="https://camchenry.com/blog/how-serverless-saved-my-heating-bill"&gt;How Serverless Saved Money on My Heating Bill&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Cameron McHenry&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Regardless of what the title says, this article is not about saving money but is about building a full-stack web application with Javascript and getting it up and running for free.&lt;/p&gt;
&lt;p&gt;Thanks for reading. Until next time.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>Weekly Roundup 51</title>
      <link>https://www.ankursheel.com/blog/weekly-roundup-51</link>
      <description>This weeks roundup contains articles from Slava Shestopalov, Ahmad Shadeed, Amelia Wattenberger, Kevon Cheung and Gergely Orosz</description>
      <enclosure url="https://www.ankursheel.com/assets/images/weekly-roundup-cover.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/weekly-roundup-51</guid>
      <pubDate>Sun, 02 Jan 2022 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;Every week I come across some great articles. Here are some of the posts I feel you will enjoy reading as much as I did.&lt;/p&gt;
&lt;h2 id="designing-better-links-for-websites-and-emails-a-guideline"&gt;&lt;a href="https://uxdesign.cc/designing-better-links-for-websites-and-emails-a-guideline-5b8638ce675a"&gt;Designing better links for websites and emails — a guideline&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Slava Shestopalov&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Just because something is common doesn't make it right. This article explains the common mistakes made when adding text links and making them more usable and accessible. It also shows the difference between bad and good links through examples.&lt;/p&gt;
&lt;h2 id="defensive-css"&gt;&lt;a href="https://ishadeed.com/article/defensive-css/"&gt;Defensive CSS&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Ahmad Shadeed&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Defensive CSS is a practical set of styles that can help us avoid unexpected issues when writing CSS. So many nuggets in this article.&lt;/p&gt;
&lt;h2 id="visualizing-a-codebase"&gt;&lt;a href="https://next.github.com/projects/repo-visualization"&gt;Visualizing a codebase&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Amelia Wattenberger&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;A fantastic article on how to visualize a GitHub repo with each file and folder depicted as a circle. The article also goes into the design and implementation of the visualization. Apart from some visualizations of some public repositories, you can also see the visualization for your own repositories.&lt;/p&gt;
&lt;h2 id="how-to-validate-your-tech-startup-idea"&gt;&lt;a href="https://kevoncheung.com/blog/validating-startup-ideas"&gt;How to Validate Your Tech Startup Idea&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Kevon Cheung&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This is an excellent post that goes into the details of why building Toasty was a terrible idea, even though they talked to users and researched the space before building the product. What they learnt and how would Kevin evaluate future startup ideas for a B2b SaaS.&lt;/p&gt;
&lt;h2 id="the-cheetah-software-engineer-the-pragmatic-engineer"&gt;&lt;a href="https://blog.pragmaticengineer.com/the-cheetah-software-engineer/"&gt;The Cheetah Software Engineer - The Pragmatic Engineer&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Gergely Orosz&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Most organizations are scared of 10x engineers because they are toxic. An observation in extreme detail on what a highly productive engineer can look like. Why they are so rare, and how you can manage them and keep them engaged?&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>What to do as an end-user when merchants using stripe decline your credit cards</title>
      <link>https://www.ankursheel.com/blog/merchants-using-stripe-decline-credit-cards</link>
      <description>My ongoing saga with Stripe support as an end-user to get them to stop blocking my card. A workaround while they try to resolve the issue</description>
      <enclosure url="https://www.ankursheel.com/assets/images/posts/merchants-using-stripe-decline-credit-cards/cover.jpg" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/merchants-using-stripe-decline-credit-cards</guid>
      <pubDate>Fri, 31 Dec 2021 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;For a long time, merchants using Stripe to process payments have declined my cards. It took me a long time to figure out what was happening.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://www.ankursheel.com/assets/images/posts/merchants-using-stripe-decline-credit-cards/cover.jpg" alt="A woman who enters her bank details while shopping online"&gt;&lt;/p&gt;
&lt;h2 id="what-i-tried-unsuccessfully"&gt;What I  tried (unsuccessfully)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;I tried to use various cards, all of which work elsewhere (including overseas transactions).&lt;/li&gt;
&lt;li&gt;I tried to use cards in my wife's name, which also work elsewhere (including overseas transactions).&lt;/li&gt;
&lt;li&gt;I used both debit and credit cards.&lt;/li&gt;
&lt;li&gt;I spoke with my bank as suggested by various merchants. They confirmed there was no security holds on my account. They don't even see the failed transaction on their end.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="a-light-bulb-goes-on"&gt;A light bulb goes on&lt;/h2&gt;
&lt;p&gt;Recently, I tried to place an order on a merchant using Stripe. As always, it got declined. On a whim, I decided to delete my account and recreate it in my wife's name. On placing an order using her account, the payment immediately went through. Remember, this is on the same merchant who had declined the payment from my account for the same card just a few minutes earlier.&lt;/p&gt;
&lt;p&gt;This led me to conclude that Stripe is blocking the payments based on my email.&lt;/p&gt;
&lt;h2 id="so-what-can-you-do"&gt;So what can you do?&lt;/h2&gt;
&lt;p&gt;If you are using Gmail as an email provider, you can just add &lt;em&gt;&lt;strong&gt;+merchant@gmail.com&lt;/strong&gt;&lt;/em&gt; to the email address, which will create an alias for your Gmail account. This means that as far as Stripe is concerned, it's a different address from the one they blocked, but the emails from the merchant will still come to your email address.&lt;/p&gt;
&lt;p&gt;If it's so simple to bypass the decline, you would think getting Stripe to take the email off the blocklist would be easy. You can read about the ongoing saga below.&lt;/p&gt;
&lt;h2 id="the-stripe-saga-my-attempt-to-resolve-this-with-stripe-support"&gt;The Stripe Saga: My Attempt to resolve this with Stripe support&lt;/h2&gt;
&lt;p&gt;With this new insight, I reached out to Stripe. I told them about the payments failing and my suspicion that the failure was because of my email and asked if there was some way to get my email off the blocklist. Unfortunately, Stripe needs a merchant to contact them to look at the issue. I haven't had much luck getting merchants to email stripe. Most merchants suggest talking to the bank, which does not help when the bank does not even see the transaction.&lt;/p&gt;
&lt;p&gt;Over 3 months and in multiple emails, I communicated to Stripe that merchants are not contacting them because they either don't understand that the email is an issue or they have better things to do with their time. Each time it was a (semi?)canned reply, "please reach out to a merchant and ask them to contact us".&lt;/p&gt;
&lt;p&gt;Finally, I sent them a screenshot showing Stripe's decline code as &lt;em&gt;"fraudulent"&lt;/em&gt;. I also sent them the response from a merchant clearly stating that they(merchant) think I should reach out to Stripe as they don't think they(Stripe) would give them the information. I also told them I bypassed the fraudulent decline code by providing an alternate email address.&lt;/p&gt;
&lt;p&gt;I was hoping that this would get Stripe to resolve the issue. But alas, I got the same canned reply.&lt;/p&gt;
&lt;p&gt;After telling them I was getting tired of this chicken and egg problem, they linked some text to send to the merchant. I have sent this to the merchant, but I don't think the merchant has much incentive to prioritise this.&lt;/p&gt;
&lt;p&gt;I will update this section with any more progress.&lt;/p&gt;
&lt;h2 id="updates"&gt;Updates&lt;/h2&gt;
&lt;p&gt;Immediately after posting this article, the people at Stripe reached out to me on Twitter. Two days later, they resolved the issue- the issue being that the email had previously been flagged. Unfortunately, they could not share any more information with me. But the good news is that this issue is now sorted.&lt;/p&gt;
&lt;h2 id="further-reading"&gt;Further Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://support.google.com/a/users/answer/9308648?hl=en"&gt;Creating alias email addresses on gmail&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Cover Photo from &lt;a href="https://unsplash.com/photos/gf8e6XvG_3E"&gt;Unsplash&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>Weekly Roundup 50</title>
      <link>https://www.ankursheel.com/blog/weekly-roundup-50</link>
      <description>This weeks roundup contains articles from JT McCormick, Mike Crittenden, iA, Michael Lopp and Byrne Hobart</description>
      <enclosure url="https://www.ankursheel.com/assets/images/weekly-roundup-cover.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/weekly-roundup-50</guid>
      <pubDate>Sun, 26 Dec 2021 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;Every week I come across some great articles. Here are some of the posts I feel you will enjoy reading as much as I did.&lt;/p&gt;
&lt;h2 id="how-to-solve-the-good-person-wrong-seat-problem"&gt;&lt;a href="https://www.entrepreneur.com/article/331248"&gt;How to Solve the Good Person, Wrong Seat Problem&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;JT McCormick&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;It's much easier to have a conversation when you promote someone than when you ask someone to move laterally and for a pay-cut. An example of a conversation you can have when asking someone to change positions and take a pay cut.&lt;/p&gt;
&lt;h2 id="the-whys-and-hows-of-jelling-teams"&gt;&lt;a href="https://critter.blog/2016/10/27/the-whys-and-hows-of-jelling-teams/"&gt;The why's and how's of jelling teams&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Mike Crittenden&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;A jelled team is vital for having a happy team. This article outlines some of the advantages of having a jelled team and then explains what things keep a team from jelling.&lt;/p&gt;
&lt;h2 id="subscription-or-no-subscription-that-is-not-the-question"&gt;&lt;a href="https://ia.net/topics/subscription-or-no-subscription"&gt;Subscription or no subscription? That is not the question&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;iA&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Subscriptions for software are ubiquitous, but not every type of software should be a subscription. This article explains why this is so and answers more critical questions such as when subscriptions work and when don't they? What can you do instead?&lt;/p&gt;
&lt;h2 id="the-update-the-vent-and-the-disaster"&gt;&lt;a href="https://randsinrepose.com/archives/the-update-the-vent-and-the-disaster/"&gt;The Update, The Vent, and The Disaster&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Michael Lopp&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Having a good 1:1 is a tricky business. Did you know that most 1:1's can be thrown into 1 of the 3 buckets - The Update, The Vent and The Disaster. This article tells you how to know which type of 1:1 you are having and what to do in each case to have a productive 1:1.&lt;/p&gt;
&lt;h2 id="writing-is-networking-for-introverts"&gt;&lt;a href="https://byrnehobart.medium.com/writing-is-networking-for-introverts-5cac14ad4c77"&gt;Writing is Networking for Introverts&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Byrne Hobart&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;How do you network if you are an introvert and are bad at striking up conversations with strangers? As the title says, this article explains how writing is a good substitute for networking for introverts.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>How to use Access Control Lists (ACL) for Graphql subscriptions with Redis</title>
      <link>https://www.ankursheel.com/blog/use-acl-graphql-subscriptions-redis</link>
      <description>A guide to adding Access Control Lists (ACL)  for Redis to restrict access and using a restricted user for Graphql subscriptions with Hot Chocolate</description>
      <guid>https://www.ankursheel.com/blog/use-acl-graphql-subscriptions-redis</guid>
      <pubDate>Tue, 21 Dec 2021 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;In the last post, we saw how we can &lt;a href="https://www.ankursheel.com/blog/implement-graqhql-subscriptions-hotchocolate-redis"&gt;add subscriptions to our Graphql server&lt;/a&gt;. This post will show how to set up an ACL (Access Control List) for Redis to restrict access to trusted clients.&lt;/p&gt;
&lt;h2 id="setting-up-redis-acl-access-control-list"&gt;Setting up Redis ACL (Access Control list)&lt;/h2&gt;
&lt;p&gt;Create a new file and call it &lt;em&gt;users.acl&lt;/em&gt;. In this file, we want to do 3 things.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;disable the default user&lt;/li&gt;
&lt;li&gt;add an admin user who is the same as a default user but has an explicit username.&lt;/li&gt;
&lt;li&gt;add a restricted user with access to a specific channel.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="disable-the-default-user"&gt;Disable the default user&lt;/h3&gt;
&lt;p&gt;By default, a single user without any restrictions is defined. We can disable the default user by adding &lt;code&gt;user default off&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="create-an-admin-user"&gt;Create an admin user&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;user admin on nopass ~* &amp;amp;* +@@all&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This line creates a user with the username &lt;em&gt;&lt;strong&gt;admin&lt;/strong&gt;&lt;/em&gt;. This user is configured to be&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;on&lt;/strong&gt;: active&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;nopass&lt;/strong&gt;: require no password&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;~*&lt;/strong&gt;: access every possible key&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;amp;*&lt;/strong&gt;: access every Pub/Sub channel&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;+@@all&lt;/strong&gt;: able to call every possible command&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="create-a-restricted-user-for-graphql-subscriptions"&gt;Create a restricted user for Graphql subscriptions&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;user test on nopass ~* resetchannels &amp;amp;cdd/graphql_subscriptions/* -@@all +@@connection +@@pubsub&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This line creates a user with the username &lt;em&gt;&lt;strong&gt;test&lt;/strong&gt;&lt;/em&gt;. This user is configured to be&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;on&lt;/strong&gt;: active&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;nopass&lt;/strong&gt;: require no password&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;~*&lt;/strong&gt;: access every possible key&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;resetchannels&lt;/strong&gt;: : Resetsw the list of allowed channel patterns and disconnect the user from channels it doesnt have access to anymore.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;amp;graphql_subscriptions/*&lt;/strong&gt;: access everything under the &lt;em&gt;graphql_subscriptions&lt;/em&gt; channel&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-@@all +@@connection +@@pubsub&lt;/strong&gt;: Restrict access to the connection and pubsub commands.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="setting-up-redis-configuration"&gt;Setting up Redis configuration&lt;/h2&gt;
&lt;p&gt;The &lt;em&gt;redis.conf&lt;/em&gt; file allows us to configure Redis and set up authentication.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;aclfile /usr/local/etc/redis/users.acl&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This tells Redis that we want to use an external aclfile found at &lt;em&gt;/usr/local/etc/redis/&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id="updating-hot-chocolate-to-use-a-custom-user"&gt;Updating Hot Chocolate to use a custom user&lt;/h2&gt;
&lt;p&gt;In our &lt;em&gt;Startup.cs&lt;/em&gt; class, we need to update the configuration options to set the user for the Redis server. We also set the channelPrefix as the graphpqlSubscriptionUser only has access to &lt;em&gt;graphql_subscriptions&lt;/em&gt; channel.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;public&lt;/span&gt; &lt;span class="hljs-keyword"&gt;void&lt;/span&gt; &lt;span class="hljs-title"&gt;ConfigureServices&lt;/span&gt;(&lt;span class="hljs-params"&gt;IServiceCollection services&lt;/span&gt;)
&lt;/span&gt;{
    &lt;span class="hljs-keyword"&gt;var&lt;/span&gt; options = &lt;span class="hljs-keyword"&gt;new&lt;/span&gt; ConfigurationOptions
            {
                EndPoints = { "localhost:&lt;span class="hljs-number"&gt;6379&lt;/span&gt;" },
                User = "graphpqlSubscriptionUser",
                ChannelPrefix = "graphql_subscriptions/"
            };

    services.AddGraphQLServer()
        .AddQueryType&amp;lt;Query&amp;gt;()
        .AddMutationType&amp;lt;Mutation&amp;gt;()
        .AddSubscriptionType&amp;lt;Subscription&amp;gt;()
        .AddRedisSubscriptions(_ =&amp;gt; ConnectionMultiplexer.Connect(options));
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="adding-a-docker-compose-file"&gt;Adding a docker compose file&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-dockerfile hljs"&gt;version: &lt;span class="hljs-string"&gt;'3'&lt;/span&gt;
services:
  redis:
    image: redis:&lt;span class="hljs-number"&gt;6.2&lt;/span&gt;-alpine
    ports:
      - "&lt;span class="hljs-number"&gt;6379&lt;/span&gt;:&lt;span class="hljs-number"&gt;6379&lt;/span&gt;"
    volumes:
      - ./redis.conf:/usr/local/etc/redis/redis.conf
      - ./users.acl:/usr/local/etc/redis/users.acl
    container_name: redis-graphql
    command: redis-server /usr/local/etc/redis/redis.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then we can run the command &lt;code&gt;docker-compose up --force-recreate -d --build&lt;/code&gt; to start the Redis container.&lt;/p&gt;
&lt;h2 id="demo-project"&gt;Demo Project&lt;/h2&gt;
&lt;p&gt;There is a &lt;a href="https://github.com/AnkurSheel/HotChocolateSubscriptions"&gt;demo project&lt;/a&gt; you can check out over on GitHub.&lt;/p&gt;
&lt;h2 id="further-reading"&gt;Further Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://redis.io/topics/acl"&gt;Redis ACL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackexchange.github.io/StackExchange.Redis/Configuration"&gt;StackExchange.Redis Configuration&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>Weekly Roundup 49</title>
      <link>https://www.ankursheel.com/blog/weekly-roundup-49</link>
      <description>This weeks roundup contains articles from David McCarter, Janella, Paul Swail, Mike Petrovich and Brian Rinaldi</description>
      <enclosure url="https://www.ankursheel.com/assets/images/weekly-roundup-cover.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/weekly-roundup-49</guid>
      <pubDate>Sun, 19 Dec 2021 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;Every week I come across some great articles. Here are some of the posts I feel you will enjoy reading as much as I did.&lt;/p&gt;
&lt;h2 id="collection-performance-how-do-you-linq"&gt;&lt;a href="https://dotnettips.wordpress.com/2021/12/15/collection-performance-how-do-you-linq"&gt;Collection Performance: How Do You Linq?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;David McCarter&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This article compares the performance of some common LINQ Queries when it's written using the API vs a lambda and the performance of the different ways to use the lambda versions.&lt;/p&gt;
&lt;h2 id="good-enough"&gt;&lt;a href="https://blog.janella.nz/posts/2021/08/22/deciding-good-enough.html"&gt;Good enough&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Janella&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;It's easy to fall into the trap of future-proofing our code. This article can help us see the key signs indicating that we need to step back from the details. It also outlines the questions we should ask to decide if something is good enough. As an added bonus, there are also some tips on easing ourselves into decision making if we are prone to imposter syndrome.&lt;/p&gt;
&lt;h2 id="the-testing-trade-off-triangle"&gt;&lt;a href="https://serverlessfirst.com/testing-tradeoff-triangle"&gt;The testing trade-off triangle&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Paul Swail&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Did you know that every time we choose a testing strategy, we need to compromise between confidence level, feedback loop, and maintainability? This article shares some examples of who the loser is when we optimize for one of them and some questions we should ask ourselves to inform or test strategy.&lt;/p&gt;
&lt;h2 id="the-three-dominoes"&gt;&lt;a href="https://petro.blog/the-3-domino-rule-85888e009e5a"&gt;The Three Dominoes&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Mike Petrovich&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;There are 3 simple rules to make it easier for a team to operate: limit work-in-progress, Minimize specialization, and Never sacrifice quality. Read this article to know how each of these rules helps the team achieve long-term success and the limitations of each of the rules.&lt;/p&gt;
&lt;h2 id="rendering-in-the-jamstack"&gt;&lt;a href="https://bejamas.io/blog/understanding-rendering-in-the-jamstack/"&gt;Rendering in the Jamstack&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Brian Rinaldi&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Multiple rendering options are available in JAMstack applications. This article gives an in-depth overview of the different rendering options and helps you choose which one to use when.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>Weekly Roundup 48</title>
      <link>https://www.ankursheel.com/blog/weekly-roundup-48</link>
      <description>This weeks roundup contains articles from Gergely Orosz, Stephan Ango, Andrew Wilkinson, Kevon Cheung and Avy Faingezicht</description>
      <enclosure url="https://www.ankursheel.com/assets/images/weekly-roundup-cover.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/weekly-roundup-48</guid>
      <pubDate>Sun, 12 Dec 2021 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;Every week I come across some great articles. Here are some of the posts I feel you will enjoy reading as much as I did.&lt;/p&gt;
&lt;h2 id="hiring-and-retaining-a-diverse-engineering-team"&gt;&lt;a href="https://blog.pragmaticengineer.com/hiring-a-diverse-engineering-team/"&gt;Hiring (and Retaining) a Diverse Engineering Team&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Gergely Orosz&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Almost everyone agrees that having a diverse team is better for business. But the question remains -&amp;gt; &amp;quot;How do you hire more diverse teams?&amp;quot; Gregory talks to 6 engineering leaders who have successfully built diverse teams about hiring and retaining diverse engineering teams.&lt;/p&gt;
&lt;h2 id="questions-to-ask-yourself-every-year"&gt;&lt;a href="http://stephanango.com/40-questions"&gt;40 questions to ask yourself every year&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Stephan Ango&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The end of the year is a good time for introspection. If you are having a hard time coming up with questions to ask yourself, Stephan shares a list of 40 questions he asks himself every year. This should be enough to get you started.&lt;/p&gt;
&lt;h2 id="the-power-of-anti-goals"&gt;&lt;a href="https://awilkinson.medium.com/the-power-of-anti-goals-c38f5f46d23c"&gt;The Power of Anti-Goals&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Andrew Wilkinson&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When thinking about what we want to achieve, most of us start by thinking about what we want to do. Andrew instead thought of the worst day possible and came up with Anti-goals to avoid it. I feel it's a strategy worth exploring to have more enjoyable days.&lt;/p&gt;
&lt;h2 id="how-i-hustled-to-2kmo-and-got-rid-of-it"&gt;&lt;a href="https://kevoncheung.com/blog/creators-monetization-challenges"&gt;How I Hustled to $2K/mo and Got Rid of It&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Kevon Cheung&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;A behind-the-scenes look at how Kevin created multiple revenue streams to reach 2k/month and why he eventually scrapped them.&lt;/p&gt;
&lt;h2 id="how-to-evaluate-startup-offers-a-beginners-guide"&gt;&lt;a href="https://faingezicht.com/articles/2021/09/20/evaluating-startup-offers/"&gt;How to Evaluate Startup Offers - A Beginner's Guide&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Avy Faingezicht&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;It can be tough to compare different startup offers. This article gives a really nice overview of what working for a VC-funded startup looks like financially.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>Weekly Roundup 47</title>
      <link>https://www.ankursheel.com/blog/weekly-roundup-47</link>
      <description>This weeks roundup contains articles from Ramit Sethi, Muhammed Saleem, Robert Heaton, Charity Majors and David McCarter</description>
      <enclosure url="https://www.ankursheel.com/assets/images/weekly-roundup-cover.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/weekly-roundup-47</guid>
      <pubDate>Sun, 05 Dec 2021 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;Every week I come across some great articles. Here are some of the posts I feel you will enjoy reading as much as I did.&lt;/p&gt;
&lt;h2 id="career-seasons-choosing-a-role-based-on-the-lifestyle-you-want"&gt;&lt;a href="https://www.iwillteachyoutoberich.com/blog/career-seasons/"&gt;Career Seasons: Choosing a Role Based on the Lifestyle You Want&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Ramit Sethi&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;At different points in our lives, we are in a different season of our careers. The 3 different career seasons are Growth, Lifestyle and Reinvention. It's important to know what season we are in to tailor our job search accordingly. This article can help us figure out what career season we are in.&lt;/p&gt;
&lt;h2 id="dependency-injection-lifetimes-in-asp.net-core"&gt;&lt;a href="https://code-maze.com/dependency-injection-lifetimes-aspnet-core/?utm_source=pocket_mylisthttps://code-maze.com/dependency-injection-lifetimes-aspnet-core/"&gt;Dependency Injection Lifetimes in ASP.NET Core&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Muhammed Saleem&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In ASP.NET Core, we can register the dependencies for three different lifetimes. I always get confused about when to use which. This article compares the 3 injection lifetimes by example. It has recommendations for when to use each and when not to use.&lt;/p&gt;
&lt;h2 id="how-to-write-better-sentences-6-examples"&gt;&lt;a href="https://robertheaton.com/better-sentences/"&gt;How to write better sentences: 6 examples&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Robert Heaton&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;We can improve our articles by making minor tweaks to our writing. This article contains 6 real-world sentences that Robert has made shorter and cleaner.&lt;/p&gt;
&lt;h3 id="lies-my-parents-told-me-about-logs"&gt;&lt;a href="https://www.honeycomb.io/blog/lies-my-parents-told-me-about-logs/"&gt;Lies My Parents Told Me (About Logs)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;by&lt;/em&gt; &lt;strong&gt;Charity Majors&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;All of us have some assumptions about logs. Some used to be true, but some never really were. This article outlines some of the common misconceptions about logs.&lt;/p&gt;
&lt;h3 id="when-are-companies-going-to-learn-how-software-development-works"&gt;&lt;a href="https://dotnettips.wordpress.com/2021/07/15/when-are-companies-going-to-learn-how-software-development-works/"&gt;When Are Companies Going To Learn How Software Development Works?&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;by&lt;/em&gt; &lt;strong&gt;David McCarter&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Many companies make the same mistakes repeatedly that doom their software projects to failure. A story about how David unearthed during an interview of a company making those mistakes.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>How do I implement Graphql subscriptions in HotChocolate with Redis</title>
      <link>https://www.ankursheel.com/blog/implement-graqhql-subscriptions-hotchocolate-redis</link>
      <description>A guide to adding subscriptions to a HotChocolate GraphQL API with a Redis provider</description>
      <enclosure url="https://www.ankursheel.com/assets/images/posts/implement-graqhql-subscriptions-hotchocolate-redis/images/redis_response.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/implement-graqhql-subscriptions-hotchocolate-redis</guid>
      <pubDate>Thu, 11 Nov 2021 00:00:00 GMT</pubDate>
      <content:encoded>&lt;p&gt;GraphQL offers us real-time capabilities to notify us when a specific event happens.&lt;/p&gt;
&lt;p&gt;In this tutorial, we will add subscriptions to our graphql server. We will create an &lt;code&gt;onPing&lt;/code&gt; event that will send notifications whenever we ping the server with an input string.&lt;/p&gt;
&lt;p&gt;We will also use Redis that runs in a docker container, and see how we can listen to the events in a Redis command shell.&lt;/p&gt;
&lt;h2 id="running-redis-using-docker"&gt;Running Redis using docker&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-bash hljs"&gt;docker run &lt;span class="hljs-_"&gt;-d&lt;/span&gt; --name=redis-graphql -p 6379:6379 redis:6.0-alpine
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="adding-a-subscription"&gt;Adding a Subscription&lt;/h2&gt;
&lt;p&gt;We will add a new class Subscription which will have our &lt;code&gt;onPing&lt;/code&gt; event.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-keyword"&gt;public&lt;/span&gt; &lt;span class="hljs-keyword"&gt;class&lt;/span&gt; &lt;span class="hljs-title"&gt;Subscription&lt;/span&gt; : &lt;span class="hljs-title"&gt;ObjectType&lt;/span&gt;
{
    &lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;protected&lt;/span&gt; &lt;span class="hljs-keyword"&gt;override&lt;/span&gt; &lt;span class="hljs-keyword"&gt;void&lt;/span&gt; &lt;span class="hljs-title"&gt;Configure&lt;/span&gt;(&lt;span class="hljs-params"&gt;IObjectTypeDescriptor descriptor&lt;/span&gt;)
    &lt;/span&gt;{
        descriptor.Field("onPing")
            .Type&amp;lt;NonNullType&amp;lt;StringType&amp;gt;&amp;gt;()
            .Resolve(ctx =&amp;gt; ctx.GetEventMessage&amp;lt;&lt;span class="hljs-keyword"&gt;string&lt;/span&gt;&amp;gt;())
            .Subscribe(&lt;span class="hljs-keyword"&gt;async&lt;/span&gt; ctx =&amp;gt; &lt;span class="hljs-keyword"&gt;await&lt;/span&gt; ctx.Service&amp;lt;ITopicEventReceiver&amp;gt;().SubscribeAsync&amp;lt;&lt;span class="hljs-keyword"&gt;string&lt;/span&gt;, &lt;span class="hljs-keyword"&gt;string&lt;/span&gt;&amp;gt;("onPing", ctx.RequestAborted));
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Line 5&lt;/em&gt;&lt;/strong&gt;: The topic for the subscription.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Line 7&lt;/em&gt;&lt;/strong&gt;: Gets the message payload.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Line 8&lt;/em&gt;&lt;/strong&gt;: Subscribes to the pub/sub system&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To use subscriptions, we need to add the WebSockets middleware to our request pipeline.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-comment"&gt;// Startup.cs&lt;/span&gt;
&lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;public&lt;/span&gt; &lt;span class="hljs-keyword"&gt;void&lt;/span&gt; &lt;span class="hljs-title"&gt;Configure&lt;/span&gt;(&lt;span class="hljs-params"&gt;IApplicationBuilder app, IWebHostEnvironment env&lt;/span&gt;)
&lt;/span&gt;{
    app.UseWebSockets();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;Note: Middleware order is important with .NET Core, so this middleware needs to come before the GraphQL middleware.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Next, We need to register our subscriptions and set up the Redis subscription provider in the Startup class.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;public&lt;/span&gt; &lt;span class="hljs-keyword"&gt;void&lt;/span&gt; &lt;span class="hljs-title"&gt;ConfigureServices&lt;/span&gt;(&lt;span class="hljs-params"&gt;IServiceCollection services&lt;/span&gt;)
&lt;/span&gt;{
    &lt;span class="hljs-keyword"&gt;var&lt;/span&gt; options = &lt;span class="hljs-keyword"&gt;new&lt;/span&gt; ConfigurationOptions
    {
        EndPoints = { "localhost:&lt;span class="hljs-number"&gt;6379&lt;/span&gt;" },
    };

    services.AddGraphQLServer()
            .AddSubscriptionType&amp;lt;Subscription&amp;gt;();
            .AddRedisSubscriptions(_ =&amp;gt; ConnectionMultiplexer.Connect(options));
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;Note: Redis is on port 6379 by default.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id="publishing-the-event"&gt;Publishing the event&lt;/h2&gt;
&lt;p&gt;Our mutation needs to use &lt;code&gt;ITopicEventSender&lt;/code&gt; to send messages to the underlying pub/sub system.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp hljs"&gt;&lt;span class="hljs-keyword"&gt;public&lt;/span&gt; &lt;span class="hljs-keyword"&gt;class&lt;/span&gt; &lt;span class="hljs-title"&gt;Mutation&lt;/span&gt; : &lt;span class="hljs-title"&gt;ObjectType&lt;/span&gt;
{
    &lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;protected&lt;/span&gt; &lt;span class="hljs-keyword"&gt;override&lt;/span&gt; &lt;span class="hljs-keyword"&gt;void&lt;/span&gt; &lt;span class="hljs-title"&gt;Configure&lt;/span&gt;(&lt;span class="hljs-params"&gt;IObjectTypeDescriptor descriptor&lt;/span&gt;)
    &lt;/span&gt;{
        descriptor.Field("ping")
            .Type&amp;lt;NonNullType&amp;lt;StringType&amp;gt;&amp;gt;()
            .Argument("payload", des =&amp;gt; des.Type&amp;lt;NonNullType&amp;lt;StringType&amp;gt;&amp;gt;())
            .Resolve(
                &lt;span class="hljs-keyword"&gt;async&lt;/span&gt; ctx =&amp;gt;
                {
                    &lt;span class="hljs-keyword"&gt;var&lt;/span&gt; input = ctx.ArgumentValue&amp;lt;&lt;span class="hljs-keyword"&gt;string&lt;/span&gt;&amp;gt;("payload");

                    &lt;span class="hljs-keyword"&gt;await&lt;/span&gt; ctx.Service&amp;lt;ITopicEventSender&amp;gt;().SendAsync("onPing", input);
                    &lt;span class="hljs-keyword"&gt;return&lt;/span&gt; input;
                });
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Line 13:&lt;/em&gt;&lt;/strong&gt;: "onPing" is the topic we want to publish, and &lt;em&gt;input&lt;/em&gt; is our payload.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="testing"&gt;Testing&lt;/h2&gt;
&lt;p&gt;We can start an Interactive Shell for the Redis Docker Container.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash hljs"&gt;docker &lt;span class="hljs-built_in"&gt;exec&lt;/span&gt; -it redis-graphql redis-cli
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, we can subscribe to the &lt;em&gt;onPing&lt;/em&gt; channel using the subscribe command.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash hljs"&gt;subscribe onPing
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="https://www.ankursheel.com/assets/images/posts/implement-graqhql-subscriptions-hotchocolate-redis/redis_docker_interactive_shell.png" alt="Subscribing to the topic in an interactive shell for redis"&gt;&lt;/p&gt;
&lt;p&gt;In Insomnia (or your IDE of choice), add the following mutation.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-graphql"&gt;mutation {
    ping(payload: "hello")
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;On execution, we should see the following responses.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://www.ankursheel.com/assets/images/posts/implement-graqhql-subscriptions-hotchocolate-redis/mutation.png" alt="Mutation and response"&gt;&lt;/p&gt;
&lt;p&gt;In the shell, we can see the event on Redis.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://www.ankursheel.com/assets/images/posts/implement-graqhql-subscriptions-hotchocolate-redis/redis_response.png" alt="Event caught by Redis listener"&gt;&lt;/p&gt;
&lt;h2 id="demo-project"&gt;Demo Project&lt;/h2&gt;
&lt;p&gt;There is a &lt;a href="https://github.com/AnkurSheel/HotChocolateSubscriptions"&gt;demo project&lt;/a&gt; you can check out over on GitHub.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
    <item>
      <title>Weekly Roundup 46</title>
      <link>https://www.ankursheel.com/blog/weekly-roundup-46</link>
      <description>This weeks roundup contains articles from Gergely Orosz, Anuraj, Shaundai Person, Andrew Lock and Morgan Housel</description>
      <enclosure url="https://www.ankursheel.com/assets/images/weekly-roundup-cover.png" length="0" type="image" />
      <guid>https://www.ankursheel.com/blog/weekly-roundup-46</guid>
      <pubDate>Sun, 07 Nov 2021 00:00:00 GMT</pubDate>
      <content:encoded>&lt;!-- markdownlint-disable no-duplicate-header --&gt;
&lt;p&gt;Every week I come across some great articles. Here are some of the posts I feel you will enjoy reading as much as I did.&lt;/p&gt;
&lt;h2 id="the-pragmatic-engineer-test-12-questions-on-engineering-culture"&gt;&lt;a href="https://blog.pragmaticengineer.com/pragmatic-engineer-test/"&gt;The Pragmatic Engineer Test: 12 Questions on Engineering Culture&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Gergely Orosz&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;You have probably heard of the &lt;a href="https://www.joelonsoftware.com/2000/08/09/the-joel-test-12-steps-to-better-code/"&gt;Joel Test&lt;/a&gt;, but it's 20 years old, and most companies can answer &lt;strong&gt;yes&lt;/strong&gt; to those questions. These questions are better suited to rate the quality of a software team in today's world.&lt;/p&gt;
&lt;h2 id="implementing-content-security-policy-csp-in-asp.net-core"&gt;&lt;a href="https://dotnetthoughts.net/implementing-content-security-policy-in-aspnetcore/"&gt;Implementing Content Security Policy (CSP) in ASP.NET Core&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Anuraj&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;CSP (Content Security Policy) is a security layer that helps us mitigate and report XSS(Cross-Site Scripting) attacks. This is a guide for creating middleware to set the header to the HTTP response in .Net Core.&lt;/p&gt;
&lt;h2 id="how-potty-training-shaped-my-tech-teaching-style"&gt;&lt;a href="https://dev.to/shaundai/how-potty-training-shaped-my-tech-teaching-style-29e2"&gt;How Potty Training Shaped My Tech Teaching Style&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Shaundai Person&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Did you know there are parallels between teaching coding and potty training? In both cases, we are giving someone a tool they have never seen before combined with a language they have never heard before and then expecting them to do something they have never done before. This article outlines what can we do differently to avoid these mistakes.&lt;/p&gt;
&lt;h2 id="debugging-configuration-values-in-asp.net-core"&gt;&lt;a href="https://andrewlock.net/debugging-configuration-values-in-aspnetcore/"&gt;Debugging configuration values in ASP.NET Core&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Andrew Lock&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When working with .Net Core, it can be useful to inspect the resolved configuration settings to determine why a configuration value does not have the value we expect. This post shows how to use &lt;code&gt;GetDebugView()&lt;/code&gt; to determine where the configuration values have come from. It also goes through the implementation.&lt;/p&gt;
&lt;h2 id="the-three-sides-of-risk"&gt;&lt;a href="https://www.collaborativefund.com/blog/the-three-sides-of-risk/"&gt;The Three Sides of Risk&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;by &lt;strong&gt;Morgan Housel&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;What can skiing teach you about investing? A lot, it seems. There are distinct sides of risk 2 of which are easy to grasp. But the last one, the tail-end consequences of getting hit, can often be learned only through experience. But the tail-end events are all that matter. This is also why I always consider the worst outcome of any decision, and only if I am ok with it is when I take the risk.&lt;/p&gt;
</content:encoded>
      <comments xmlns="http://purl.org/rss/1.0/modules/slash/">0</comments>
    </item>
  </channel>
</rss>