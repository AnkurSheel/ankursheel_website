---
published: true
author: Ankur Sheel
date: 2018-09-10
excerpt:
    Did you know that by default you can check in code as anyone in your git repository? This article shows you how to
    prevent this problem by using a GUI.
slug: securing-git-commits-windows
title: Securing git commits from tricking you on Windows
featuredImage: './cover.png'
featuredImagePosition: 'top 40% center'
imageFacebook: './image-facebook.png'
imageTwitter: './image-twitter.png'
tags:
    - Tutorial
    - git
    - tips and tricks
---

Did you know that by default you can check in code as anyone in your git repository? All you need to do is run
`git config.username = {username}` and `git config.email={email}`and you can trick git into thinking you are someone
else. For a better understanding of what kinds of problems this can create, go and read Mike Gerwitzâ€™s article,
[A Git Horror Story](https://mikegerwitz.com/papers/git-horror-story). Luckily, Git allows you to resolve this issue
pretty easily - by letting you sign commits using GPG(GNU Privacy Guard).

The GitHub help article [Signing commits using GPG](https://help.github.com/articles/signing-commits-using-gpg/) is a
pretty good guide on how to set it up. But, it requires you to use the git bash console. So, what do you do if like me
you are on a Windows machine and would prefer to use a GUI? Don't fear this guide will tell you what you need to know.

Using Gpg4win with Git needs a little bit of configuration so let's start configuring it.

## Setup Kleopatra

1. Download [Gpg4win](https://www.gpg4win.org/) and install it using the installer.

2. Go to the Start menu and start Kleopatra

3. Click on File -> New Key Pair

![Kleopatra](./images/secure_git_commits_2.png)

4. Click on Create a Personal OpenPGP key pair

![Key Pair Creation](./images/secure_git_commits_3.png)

5. Enter details and click next.

![Enter details](./images/secure_git_commits_4.png)

6. Review and Create the key. This will show a popup asking you to enter a passphrase to protect the key.

7. Enter a passphrase and click Ok

![Enter Paraphrase](./images/secure_git_commits_5.png)

8. At this point, the key pair should be created. Click on Finish.

_You can create a backup of the key and save it somewhere safe._

![Key pair Created](./images/secure_git_commits_6.png)

9. You should now see the key in Kleopatra

![Key in Kleopatra](./images/secure_git_commits_7.png)

10. Keep a note of the Key-ID. We will need it in a minute.

_This is D1E4471 in the screenshot above_

11. Double click the key to see the certificate details

![Key Details](./images/secure_git_commits_8.png)

12. Click on export and copy the public gpg key.

\_Make sure you copy everything including `
